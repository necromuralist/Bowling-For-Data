<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="The NYPD Shooting Incident Data Project" name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>NYPD Shooting Incident Data | Bowling For Data</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../rss.xml" hreflang="en" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/Bowling-For-Data/posts/nypd-shooting-incident-data/index.html" rel="canonical"><!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]-->
<meta content="The Cloistered Monkey" name="author">
<link href="../r-babel-test/index.html" rel="prev" title="R Babel Test" type="text/html">
<link href="../a-look-at-ggplot/index.html" rel="next" title="A Look At ggplot" type="text/html">
<meta content="Bowling For Data" property="og:site_name">
<meta content="NYPD Shooting Incident Data" property="og:title">
<meta content="https://necromuralist.github.io/Bowling-For-Data/posts/nypd-shooting-incident-data/index.html" property="og:url">
<meta content="The NYPD Shooting Incident Data Project" property="og:description">
<meta content="article" property="og:type">
<meta content="2021-12-11T14:34:41-08:00" property="article:published_time">
<meta content="data exploration" property="article:tag">
<meta content="data science" property="article:tag">
<meta content="r" property="article:tag">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="../../"><span id="blog-title">Bowling For Data</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../pages/">Pages</a></li>
<li class="nav-item"><a class="nav-link" href="../../archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="../../categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="../../rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Monkey Pages</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/">The Cloistered Monkey</a> <a class="dropdown-item" href="https://necromuralist.github.io/Ape-Iron/">Ape Iron</a> <a class="dropdown-item" href="https://necromuralist.github.io/Beach-Pig-Thigh/">Beach-Pig Rump & Thigh</a> <a class="dropdown-item" href="https://necromuralist.github.io/Neurotic-Networking/">Neurotic Networking</a> <a class="dropdown-item" href="https://necromuralist.github.io/Terribilis-Ludum/">Terribilis Ludum</a> <a class="dropdown-item" href="https://necromuralist.github.io/Visions-Voices-Data/">Visions, Voices, Data</a></div>
</li>
</ul>
<!-- DuckDuckGo custom search -->
<form action="https://duckduckgo.com/" class="navbar-form pull-left" id="search" method="get" name="search"><input name="sites" type="hidden" value="https://necromuralist.github.io/Bowling-For-Data/"><input name="k8" type="hidden" value="#444444"><input name="k9" type="hidden" value="#D51920"><input name="kt" type="hidden" value="h"><input class="span2" maxlength="255" name="q" placeholder="Search…" style="margin-top: 4px;" type="text"><input style="visibility: hidden;" type="submit" value="DuckDuckGo Search"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right">
<li class="nav-item"><a class="nav-link" href="index.org" id="sourcelink">Source</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href="#">NYPD Shooting Incident Data</a></h1>
<div class="metadata">
<p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">The Cloistered Monkey</span></p>
<p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2021-12-11T14:34:41-08:00" itemprop="datePublished" title="2021-12-11 14:34">2021-12-11 14:34</time></a></p>
<p class="sourceline"><a class="sourcelink" href="index.org">Source</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="index.html#orge99cc51">NYPD Shooting Incident Data</a>
<ul>
<li><a href="index.html#org3bc9218">Loading the Data</a></li>
<li><a href="index.html#org034432a">Tidying and Transforming the Data</a>
<ul>
<li><a href="index.html#org1dc1802">Incident Key</a></li>
<li><a href="index.html#org2c8cbe9">Occur Date</a></li>
<li><a href="index.html#org851d687">Occur Time</a></li>
<li><a href="index.html#org22033b2">Boro</a></li>
<li><a href="index.html#org8b2fc30">Precinct</a></li>
<li><a href="index.html#org1f78c22">Jurisdiction Code</a></li>
<li><a href="index.html#orgffe795c">Location Description</a></li>
<li><a href="index.html#org5844044">Statistical Murder Flag</a></li>
<li><a href="index.html#org9f3dbc3">Perpetrator's Age Group</a></li>
<li><a href="index.html#orgde2c3d3">Peprpetrator's Sex</a></li>
<li><a href="index.html#org0f63c57">Perpetrator's Race</a></li>
<li><a href="index.html#orgfca4333">Victim's Age Group</a></li>
<li><a href="index.html#orgd658770">Victim's Sex</a></li>
<li><a href="index.html#org143b24d">Victim's Race</a></li>
<li><a href="index.html#org857c5ba">X-Coordinate</a></li>
<li><a href="index.html#org43a284e">Y-Coordinate</a></li>
<li><a href="index.html#org15c9658">Latitude</a></li>
<li><a href="index.html#org461181f">Longitude</a></li>
<li><a href="index.html#org5cb6534">Longitude and Latitude</a></li>
</ul>
</li>
<li><a href="index.html#org4fcb58c">Visualization</a>
<ul>
<li><a href="index.html#orgdc64216">Annually</a></li>
<li><a href="index.html#org42de00b">Monthly</a></li>
<li><a href="index.html#org6355627">By Map</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orge99cc51">
<h2 id="orge99cc51">NYPD Shooting Incident Data</h2>
<div class="outline-text-2" id="text-orge99cc51">
<p>This is a project that looks at the <a href="https://catalog.data.gov/dataset/nypd-shooting-incident-data-historic">NYPD Shooting Incident Data (Historic)</a> from the <a href="https://catalog.data.gov/dataset">DATA.gov</a> catalog of datasets. This dataset lists every shooting incident in New York City from 2006 through the end of the previous calendar year. It is compiled by <a href="https://opendata.cityofnewyork.us/">NYC Open Data</a> and was last updated on December 11, 2021.</p>
<p>Each row in the data is a "shooting incident" and there are 19 columns.</p>
</div>
<div class="outline-3" id="outline-container-org3bc9218">
<h3 id="org3bc9218">Loading the Data</h3>
<div class="outline-text-3" id="text-org3bc9218">
<div class="highlight">
<pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">assertthat</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">knitr</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">lubridate</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>
</pre></div>
<p>Lubridate is part of the tidyverse but it has to be loaded for some reason.</p>
<div class="highlight">
<pre><span></span><span class="n">DATA_URL</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">"https://data.cityofnewyork.us/api/views/833y-fsy8/rows.csv?accessType=DOWNLOAD"</span><span class="w"> </span>

<span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">read_csv</span><span class="p">(</span><span class="n">DATA_URL</span><span class="p">)</span>
</pre></div>
<pre class="example" id="org6cbaba4">

[1mindexed[0m [32m0B[0m in [36m 0s[0m, [32m0B/s[0m
[1mindexed[0m [32m393.21kB[0m in [36m 0s[0m, [32m983.15kB/s[0m
                                                                              
[1mindexed[0m [32m524.28kB[0m in [36m 1s[0m, [32m1.03MB/s[0m
[1mindexed[0m [32m655.36kB[0m in [36m 1s[0m, [32m1.22MB/s[0m
[1mindexed[0m [32m786.43kB[0m in [36m 1s[0m, [32m1.24MB/s[0m
[1mindexed[0m [32m917.50kB[0m in [36m 1s[0m, [32m1.23MB/s[0m
                                                                              
[1mindexed[0m [32m1.05MB[0m in [36m 1s[0m, [32m1.18MB/s[0m
[1mindexed[0m [32m1.18MB[0m in [36m 1s[0m, [32m1.18MB/s[0m
[1mindexed[0m [32m1.31MB[0m in [36m 1s[0m, [32m1.06MB/s[0m
[1mindexed[0m [32m1.44MB[0m in [36m 2s[0m, [32m947.54kB/s[0m
                                                                              
[1mindexed[0m [32m1.57MB[0m in [36m 2s[0m, [32m1.00MB/s[0m
[1mindexed[0m [32m1.70MB[0m in [36m 2s[0m, [32m1.04MB/s[0m
[1mindexed[0m [32m1.83MB[0m in [36m 2s[0m, [32m1.04MB/s[0m
[1mindexed[0m [32m1.97MB[0m in [36m 2s[0m, [32m1.02MB/s[0m
[1mindexed[0m [32m2.10MB[0m in [36m 2s[0m, [32m1.03MB/s[0m
[1mindexed[0m [32m2.23MB[0m in [36m 2s[0m, [32m994.69kB/s[0m
[1mindexed[0m [32m2.36MB[0m in [36m 2s[0m, [32m965.18kB/s[0m
[1mindexed[0m [32m2.49MB[0m in [36m 3s[0m, [32m939.81kB/s[0m
[1mindexed[0m [32m2.62MB[0m in [36m 3s[0m, [32m951.26kB/s[0m
[1mindexed[0m [32m2.75MB[0m in [36m 3s[0m, [32m919.65kB/s[0m
[1mindexed[0m [32m2.88MB[0m in [36m 3s[0m, [32m855.66kB/s[0m
[1mindexed[0m [32m3.01MB[0m in [36m 3s[0m, [32m892.99kB/s[0m
[1mindexed[0m [32m3.15MB[0m in [36m 3s[0m, [32m904.11kB/s[0m
[1mindexed[0m [32m3.28MB[0m in [36m 4s[0m, [32m867.67kB/s[0m
[1mindexed[0m [32m3.41MB[0m in [36m 4s[0m, [32m878.71kB/s[0m
[1mindexed[0m [32m3.54MB[0m in [36m 4s[0m, [32m888.47kB/s[0m
[1mindexed[0m [32m3.67MB[0m in [36m 4s[0m, [32m899.43kB/s[0m
[1mindexed[0m [32m3.80MB[0m in [36m 4s[0m, [32m846.12kB/s[0m
[1mindexed[0m [32m3.93MB[0m in [36m 5s[0m, [32m861.49kB/s[0m
[1mindexed[0m [32m4.06MB[0m in [36m 5s[0m, [32m876.08kB/s[0m
[1mindexed[0m [32m4.19MB[0m in [36m 5s[0m, [32m854.40kB/s[0m
[1mindexed[0m [32m4.33MB[0m in [36m 5s[0m, [32m877.77kB/s[0m
[1mindexed[0m [32m4.46MB[0m in [36m 5s[0m, [32m855.56kB/s[0m
[1mindexed[0m [32m4.59MB[0m in [36m 5s[0m, [32m865.02kB/s[0m
[1mindexed[0m [32m4.72MB[0m in [36m 6s[0m, [32m855.32kB/s[0m
[1mindexed[0m [32m4.85MB[0m in [36m 6s[0m, [32m847.74kB/s[0m
[1mindexed[0m [32m4.98MB[0m in [36m 6s[0m, [32m870.08kB/s[0m
[1mindexed[0m [32m5.11MB[0m in [36m 6s[0m, [32m892.61kB/s[0m
[1mindexed[0m [32m5.11MB[0m in [36m 6s[0m, [32m892.93kB/s[0m
[1mindexed[0m [32m1.00TB[0m in [36m 6s[0m, [32m174.56GB/s[0m
                                                                              
[1mRows: [22m[34m23585[39m [1mColumns: [22m[34m19[39m
[36m──[39m [1mColumn specification[22m [36m──────────────────────────────────────────────────────────────────────────────[39m
[1mDelimiter:[22m ","
[31mchr[39m  (10): OCCUR_DATE, BORO, LOCATION_DESC, PERP_AGE_GROUP, PERP_SEX, PERP_R...
[32mdbl[39m   (7): INCIDENT_KEY, PRECINCT, JURISDICTION_CODE, X_COORD_CD, Y_COORD_CD...
[33mlgl[39m   (1): STATISTICAL_MURDER_FLAG
[34mtime[39m  (1): OCCUR_TIME

[36mℹ[39m Use [30m[47m[30m[47m`spec()`[47m[30m[49m[39m to retrieve the full column specification for this data.
[36mℹ[39m Specify the column types or set [30m[47m[30m[47m`show_col_types = FALSE`[47m[30m[49m[39m to quiet this message.
</pre></div>
</div>
<div class="outline-3" id="outline-container-org034432a">
<h3 id="org034432a">Tidying and Transforming the Data</h3>
<div class="outline-text-3" id="text-org034432a">
<div class="highlight">
<pre><span></span><span class="nf">spec</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
<pre class="example" id="org7056c50">
cols(
  INCIDENT_KEY = [32mcol_double()[39m,
  OCCUR_DATE = [31mcol_character()[39m,
  OCCUR_TIME = [34mcol_time(format = "")[39m,
  BORO = [31mcol_character()[39m,
  PRECINCT = [32mcol_double()[39m,
  JURISDICTION_CODE = [32mcol_double()[39m,
  LOCATION_DESC = [31mcol_character()[39m,
  STATISTICAL_MURDER_FLAG = [33mcol_logical()[39m,
  PERP_AGE_GROUP = [31mcol_character()[39m,
  PERP_SEX = [31mcol_character()[39m,
  PERP_RACE = [31mcol_character()[39m,
  VIC_AGE_GROUP = [31mcol_character()[39m,
  VIC_SEX = [31mcol_character()[39m,
  VIC_RACE = [31mcol_character()[39m,
  X_COORD_CD = [32mcol_double()[39m,
  Y_COORD_CD = [32mcol_double()[39m,
  Latitude = [32mcol_double()[39m,
  Longitude = [32mcol_double()[39m,
  Lon_Lat = [31mcol_character()[39m
)
</pre></div>
<div class="outline-4" id="outline-container-org1dc1802">
<h4 id="org1dc1802">Incident Key</h4>
<div class="outline-text-4" id="text-org1dc1802">
<p>According to the <a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Shooting-Incident-Data-Historic-/833y-fsy8">Data Description</a> the "Incident Key" is a randomly generated identifier for the incident. This is a likely candidate to remove unless we look at specific incidents.</p>
</div>
</div>
<div class="outline-4" id="outline-container-org2c8cbe9">
<h4 id="org2c8cbe9">Occur Date</h4>
<div class="outline-text-4" id="text-org2c8cbe9">
<p>This is the date that the shooting happened. It was loaded as a string so we should convert it to a date.</p>
<div class="highlight">
<pre><span></span><span class="n">data</span><span class="o">$</span><span class="n">OCCUR_DATE</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>
</pre></div>
<pre class="example">
[1] "08/27/2006"
</pre>
<div class="highlight">
<pre><span></span><span class="n">data</span><span class="o">$</span><span class="n">DATE</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.Date</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">OCCUR_DATE</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="o">=</span><span class="s">"%m/%d/%Y"</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">DATE</span><span class="p">)</span>
<span class="n">data</span><span class="o">$</span><span class="n">DATE</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>
<span class="nf">assert_that</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">DATE</span><span class="p">))</span>
</pre></div>
<pre class="example">
 Date[1:23585], format: "2006-08-27" "2011-03-11" "2019-10-06" "2011-09-04" "2013-05-27" ...
[1] "2006-08-27"
[1] TRUE
</pre></div>
</div>
<div class="outline-4" id="outline-container-org851d687">
<h4 id="org851d687">Occur Time</h4>
<div class="outline-text-4" id="text-org851d687">
<p>This is the time of the shooting. It appears to have already been read in as a time.</p>
<div class="highlight">
<pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">OCCUR_TIME</span><span class="p">)</span>
<span class="nf">assert_that</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">OCCUR_TIME</span><span class="p">))</span>
</pre></div>
<pre class="example">
 'hms' num [1:23585] 05:35:00 12:03:00 01:09:00 03:35:00 ...
 - attr(*, "units")= chr "secs"
[1] TRUE
</pre></div>
</div>
<div class="outline-4" id="outline-container-org22033b2">
<h4 id="org22033b2">Boro</h4>
<div class="outline-text-4" id="text-org22033b2">
<p>This is the NYC Borough where the shooting happened.</p>
<div class="highlight">
<pre><span></span><span class="n">data</span><span class="o">$</span><span class="n">Borough</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">BORO</span><span class="p">)</span>
<span class="nf">assert_that</span><span class="p">(</span><span class="nf">is.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Borough</span><span class="p">))</span>
<span class="nf">assert_that</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Borough</span><span class="p">))</span>
</pre></div>
<pre class="example">
[1] TRUE
[1] TRUE
</pre>
<p><a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html">knitr.kable</a> reformats the dataframe to a more readable table. Kind of like tabulate but less flexible.</p>
<div class="highlight">
<pre><span></span><span class="n">big_mark</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="n">columns</span><span class="p">){</span>
<span class="w">    </span><span class="nf">kable</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">vector</span><span class="p">),</span><span class="w"> </span><span class="n">col.names</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span><span class="w"> </span><span class="n">format.args</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">big.mark</span><span class="o">=</span><span class="s">","</span><span class="p">))</span>
<span class="p">}</span>
<span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Borough</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Borough"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Borough</th>
<th class="org-left" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">BRONX</td>
<td class="org-left">6,701</td>
</tr>
<tr>
<td class="org-left">BROOKLYN</td>
<td class="org-left">9,734</td>
</tr>
<tr>
<td class="org-left">MANHATTAN</td>
<td class="org-left">2,922</td>
</tr>
<tr>
<td class="org-left">QUEENS</td>
<td class="org-left">3,532</td>
</tr>
<tr>
<td class="org-left">STATEN ISLAND</td>
<td class="org-left">696</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-org8b2fc30">
<h4 id="org8b2fc30">Precinct</h4>
<div class="outline-text-4" id="text-org8b2fc30">
<p>This is the precinct number where the shooting happened.</p>
<div class="highlight">
<pre><span></span><span class="nf">n_distinct</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PRECINCT</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PRECINCT</span><span class="p">)</span>
<span class="n">data</span><span class="o">$</span><span class="n">PRECINCT_FACTOR</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PRECINCT</span><span class="p">)</span>
<span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PRECINCT</span><span class="p">))</span>
</pre></div>
<pre class="example">
[1] 77
 num [1:23585] 52 106 77 40 100 67 77 81 101 106 ...
[1] TRUE
</pre></div>
</div>
<div class="outline-4" id="outline-container-org1f78c22">
<h4 id="org1f78c22">Jurisdiction Code</h4>
<div class="outline-text-4" id="text-org1f78c22">
<p>The jurisdiction where the shooting occurred. There are three jurisdictions that are NYC jurisdictions:</p>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-right">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-right" scope="col">Code</th>
<th class="org-left" scope="col">Jurisdiction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">Patrol</td>
</tr>
<tr>
<td class="org-right">1</td>
<td class="org-left">Transit</td>
</tr>
<tr>
<td class="org-right">2</td>
<td class="org-left">Housing</td>
</tr>
</tbody>
</table>
<p>Any numbers higher than this are non-NYC jurisdictions.</p>
<div class="highlight">
<pre><span></span><span class="n">data</span><span class="o">$</span><span class="n">JURISDICTION</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">JURISDICTION_CODE</span><span class="p">)</span>
<span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">JURISDICTION</span><span class="p">))</span>
</pre></div>
<pre class="example">
[1] FALSE
attr(,"msg")
[1] "data$JURISDICTION contains 2 missing values"
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">JURISDICTION</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Jurisdiction"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-right">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-right" scope="col">Jurisdiction</th>
<th class="org-left" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">19,629</td>
</tr>
<tr>
<td class="org-right">1</td>
<td class="org-left">54</td>
</tr>
<tr>
<td class="org-right">2</td>
<td class="org-left">3,900</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-orgffe795c">
<h4 id="orgffe795c">Location Description</h4>
<div class="outline-text-4" id="text-orgffe795c">
<div class="highlight">
<pre><span></span><span class="n">data</span><span class="o">$</span><span class="n">LOCATION_DESC</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>
<span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">LOCATION_DESC</span><span class="p">))</span>
</pre></div>
<pre class="example">
[1] NA
[1] FALSE
attr(,"msg")
[1] "data$LOCATION_DESC contains 13581 missing values"
</pre>
<div class="highlight">
<pre><span></span><span class="nf">n_distinct</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">LOCATION_DESC</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] 40
</pre>
<p>Here's what the first filled-in entry looks like.</p>
<div class="highlight">
<pre><span></span><span class="nf">first</span><span class="p">(</span><span class="nf">na.omit</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">LOCATION_DESC</span><span class="p">))</span>
</pre></div>
<pre class="example">
[1] "MULTI DWELL - PUBLIC HOUS"
</pre>
<p>Too bad there's so many missing values.</p>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">LOCATION_DESC</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Location"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-right"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Location</th>
<th class="org-right" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ATM</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">BANK</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">BAR/NIGHT CLUB</td>
<td class="org-right">562</td>
</tr>
<tr>
<td class="org-left">BEAUTY/NAIL SALON</td>
<td class="org-right">100</td>
</tr>
<tr>
<td class="org-left">CANDY STORE</td>
<td class="org-right">6</td>
</tr>
<tr>
<td class="org-left">CHAIN STORE</td>
<td class="org-right">5</td>
</tr>
<tr>
<td class="org-left">CHECK CASH</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">CLOTHING BOUTIQUE</td>
<td class="org-right">14</td>
</tr>
<tr>
<td class="org-left">COMMERCIAL BLDG</td>
<td class="org-right">234</td>
</tr>
<tr>
<td class="org-left">DEPT STORE</td>
<td class="org-right">5</td>
</tr>
<tr>
<td class="org-left">DOCTOR/DENTIST</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">DRUG STORE</td>
<td class="org-right">11</td>
</tr>
<tr>
<td class="org-left">DRY CLEANER/LAUNDRY</td>
<td class="org-right">30</td>
</tr>
<tr>
<td class="org-left">FACTORY/WAREHOUSE</td>
<td class="org-right">6</td>
</tr>
<tr>
<td class="org-left">FAST FOOD</td>
<td class="org-right">98</td>
</tr>
<tr>
<td class="org-left">GAS STATION</td>
<td class="org-right">53</td>
</tr>
<tr>
<td class="org-left">GROCERY/BODEGA</td>
<td class="org-right">574</td>
</tr>
<tr>
<td class="org-left">GYM/FITNESS FACILITY</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">HOSPITAL</td>
<td class="org-right">38</td>
</tr>
<tr>
<td class="org-left">HOTEL/MOTEL</td>
<td class="org-right">24</td>
</tr>
<tr>
<td class="org-left">JEWELRY STORE</td>
<td class="org-right">12</td>
</tr>
<tr>
<td class="org-left">LIQUOR STORE</td>
<td class="org-right">36</td>
</tr>
<tr>
<td class="org-left">LOAN COMPANY</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">MULTI DWELL - APT BUILD</td>
<td class="org-right">2,553</td>
</tr>
<tr>
<td class="org-left">MULTI DWELL - PUBLIC HOUS</td>
<td class="org-right">4,240</td>
</tr>
<tr>
<td class="org-left">NONE</td>
<td class="org-right">175</td>
</tr>
<tr>
<td class="org-left">PHOTO/COPY STORE</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">PVT HOUSE</td>
<td class="org-right">857</td>
</tr>
<tr>
<td class="org-left">RESTAURANT/DINER</td>
<td class="org-right">188</td>
</tr>
<tr>
<td class="org-left">SCHOOL</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">SHOE STORE</td>
<td class="org-right">9</td>
</tr>
<tr>
<td class="org-left">SMALL MERCHANT</td>
<td class="org-right">25</td>
</tr>
<tr>
<td class="org-left">SOCIAL CLUB/POLICY LOCATI</td>
<td class="org-right">66</td>
</tr>
<tr>
<td class="org-left">STORAGE FACILITY</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">STORE UNCLASSIFIED</td>
<td class="org-right">35</td>
</tr>
<tr>
<td class="org-left">SUPERMARKET</td>
<td class="org-right">19</td>
</tr>
<tr>
<td class="org-left">TELECOMM. STORE</td>
<td class="org-right">5</td>
</tr>
<tr>
<td class="org-left">VARIETY STORE</td>
<td class="org-right">11</td>
</tr>
<tr>
<td class="org-left">VIDEO STORE</td>
<td class="org-right">2</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-org5844044">
<h4 id="org5844044">Statistical Murder Flag</h4>
<div class="outline-text-4" id="text-org5844044">
<p>This is a checkbox indicating that the victim died as a result of the shooting.</p>
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">STATISTICAL_MURDER_FLAG</span><span class="p">))</span>
</pre></div>
<pre class="example">
[1] TRUE
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">STATISTICAL_MURDER_FLAG</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Victim Died"</span><span class="p">,</span><span class="w"> </span><span class="s">"Count"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Victim Died</th>
<th class="org-left" scope="col">Count</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">FALSE</td>
<td class="org-left">19,085</td>
</tr>
<tr>
<td class="org-left">TRUE</td>
<td class="org-left">4,500</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-org9f3dbc3">
<h4 id="org9f3dbc3">Perpetrator's Age Group</h4>
<div class="outline-text-4" id="text-org9f3dbc3">
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_AGE_GROUP</span><span class="p">))</span>
<span class="n">data</span><span class="o">$</span><span class="n">PERP_AGE</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_AGE_GROUP</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] FALSE
attr(,"msg")
[1] "data$PERP_AGE_GROUP contains 8295 missing values"
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_AGE</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Perpetrator's Age Group"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-right">
<col class="org-right"></colgroup>
<thead>
<tr>
<th class="org-right" scope="col">Perpetrator's Age Group</th>
<th class="org-right" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">&lt;18</td>
<td class="org-right">1,368</td>
</tr>
<tr>
<td class="org-right">1020</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-right">18-24</td>
<td class="org-right">5,508</td>
</tr>
<tr>
<td class="org-right">224</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-right">25-44</td>
<td class="org-right">4,714</td>
</tr>
<tr>
<td class="org-right">45-64</td>
<td class="org-right">495</td>
</tr>
<tr>
<td class="org-right">65+</td>
<td class="org-right">54</td>
</tr>
<tr>
<td class="org-right">940</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-right">UNKNOWN</td>
<td class="org-right">3,148</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-orgde2c3d3">
<h4 id="orgde2c3d3">Peprpetrator's Sex</h4>
<div class="outline-text-4" id="text-orgde2c3d3">
<p>There are three values for "Sex" - Female (F), Male (M), or Unknown (U).</p>
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_SEX</span><span class="p">))</span>
<span class="n">data</span><span class="o">$</span><span class="n">PERP_SEX</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_SEX</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] FALSE
attr(,"msg")
[1] "data$PERP_SEX contains 8261 missing values"
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_SEX</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Perpetrator's Sex"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Perpetartor's Sex</th>
<th class="org-left" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">F</td>
<td class="org-left">335</td>
</tr>
<tr>
<td class="org-left">M</td>
<td class="org-left">13,490</td>
</tr>
<tr>
<td class="org-left">U</td>
<td class="org-left">1,499</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-org0f63c57">
<h4 id="org0f63c57">Perpetrator's Race</h4>
<div class="outline-text-4" id="text-org0f63c57">
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_RACE</span><span class="p">))</span>
<span class="n">data</span><span class="o">$</span><span class="n">PERP_RACE</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_RACE</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] FALSE
attr(,"msg")
[1] "data$PERP_RACE contains 8261 missing values"
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">PERP_RACE</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Perpetrator's Race"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Perpetrator's Race</th>
<th class="org-left" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">AMERICAN INDIAN/ALASKAN NATIVE</td>
<td class="org-left">2</td>
</tr>
<tr>
<td class="org-left">ASIAN / PACIFIC ISLANDER</td>
<td class="org-left">122</td>
</tr>
<tr>
<td class="org-left">BLACK</td>
<td class="org-left">10,025</td>
</tr>
<tr>
<td class="org-left">BLACK HISPANIC</td>
<td class="org-left">1,096</td>
</tr>
<tr>
<td class="org-left">UNKNOWN</td>
<td class="org-left">1,836</td>
</tr>
<tr>
<td class="org-left">WHITE</td>
<td class="org-left">255</td>
</tr>
<tr>
<td class="org-left">WHITE HISPANIC</td>
<td class="org-left">1,988</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-orgfca4333">
<h4 id="orgfca4333">Victim's Age Group</h4>
<div class="outline-text-4" id="text-orgfca4333">
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_AGE_GROUP</span><span class="p">))</span>
<span class="n">data</span><span class="o">$</span><span class="n">VIC_AGE_GROUP</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_AGE_GROUP</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_AGE_GROUP</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Victim's Age Group"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-right">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-right" scope="col">Victim's Age Group</th>
<th class="org-left" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">&lt;18</td>
<td class="org-left">2,525</td>
</tr>
<tr>
<td class="org-right">18-24</td>
<td class="org-left">9,003</td>
</tr>
<tr>
<td class="org-right">25-44</td>
<td class="org-left">10,303</td>
</tr>
<tr>
<td class="org-right">45-64</td>
<td class="org-left">1,541</td>
</tr>
<tr>
<td class="org-right">65+</td>
<td class="org-left">154</td>
</tr>
<tr>
<td class="org-right">UNKNOWN</td>
<td class="org-left">59</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-orgd658770">
<h4 id="orgd658770">Victim's Sex</h4>
<div class="outline-text-4" id="text-orgd658770">
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_SEX</span><span class="p">))</span>
<span class="n">data</span><span class="o">$</span><span class="n">VIC_SEX</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_SEX</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_SEX</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Victims' Sex"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Victims' Sex</th>
<th class="org-left" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">F</td>
<td class="org-left">2,204</td>
</tr>
<tr>
<td class="org-left">M</td>
<td class="org-left">21,370</td>
</tr>
<tr>
<td class="org-left">U</td>
<td class="org-left">11</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-org143b24d">
<h4 id="org143b24d">Victim's Race</h4>
<div class="outline-text-4" id="text-org143b24d">
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_RACE</span><span class="p">))</span>
<span class="n">data</span><span class="o">$</span><span class="n">VIC_RACE</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.factor</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_RACE</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
</pre>
<div class="highlight">
<pre><span></span><span class="nf">big_mark</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">VIC_RACE</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"Victim's Race"</span><span class="p">,</span><span class="w"> </span><span class="s">"Shootings"</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-right"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Victim's Race</th>
<th class="org-right" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">AMERICAN INDIAN/ALASKAN NATIVE</td>
<td class="org-right">9</td>
</tr>
<tr>
<td class="org-left">ASIAN / PACIFIC ISLANDER</td>
<td class="org-right">327</td>
</tr>
<tr>
<td class="org-left">BLACK</td>
<td class="org-right">16,869</td>
</tr>
<tr>
<td class="org-left">BLACK HISPANIC</td>
<td class="org-right">2,245</td>
</tr>
<tr>
<td class="org-left">UNKNOWN</td>
<td class="org-right">65</td>
</tr>
<tr>
<td class="org-left">WHITE</td>
<td class="org-right">620</td>
</tr>
<tr>
<td class="org-left">WHITE HISPANIC</td>
<td class="org-right">3,450</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="outline-4" id="outline-container-org857c5ba">
<h4 id="org857c5ba">X-Coordinate</h4>
<div class="outline-text-4" id="text-org857c5ba">
<p>"Midblock X-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104)."</p>
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">X_COORD_CD</span><span class="p">))</span>
<span class="nf">n_distinct</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">X_COORD_CD</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
[1] 9911
</pre></div>
</div>
<div class="outline-4" id="outline-container-org43a284e">
<h4 id="org43a284e">Y-Coordinate</h4>
<div class="outline-text-4" id="text-org43a284e">
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Y_COORD_CD</span><span class="p">))</span>
<span class="nf">n_distinct</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Y_COORD_CD</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
[1] 9986
</pre></div>
</div>
<div class="outline-4" id="outline-container-org15c9658">
<h4 id="org15c9658">Latitude</h4>
<div class="outline-text-4" id="text-org15c9658">
<p>Latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326).</p>
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Latitude</span><span class="p">))</span>
<span class="nf">n_distinct</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Latitude</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
[1] 10055
</pre></div>
</div>
<div class="outline-4" id="outline-container-org461181f">
<h4 id="org461181f">Longitude</h4>
<div class="outline-text-4" id="text-org461181f">
<p>Latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326).</p>
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Longitude</span><span class="p">))</span>
<span class="nf">n_distinct</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Longitude</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Longitude</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
[1] 10055
 num [1:23585] -73.9 -73.8 -74 -73.9 -73.8 ...
</pre></div>
</div>
<div class="outline-4" id="outline-container-org5cb6534">
<h4 id="org5cb6534">Longitude and Latitude</h4>
<div class="outline-text-4" id="text-org5cb6534">
<p>Longitude and Latitude Coordinates for mapping</p>
<div class="highlight">
<pre><span></span><span class="nf">see_if</span><span class="p">(</span><span class="nf">noNA</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Lon_Lat</span><span class="p">))</span>
<span class="nf">n_distinct</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Lon_Lat</span><span class="p">)</span>
<span class="nf">str</span><span class="p">(</span><span class="n">data</span><span class="o">$</span><span class="n">Lon_Lat</span><span class="p">)</span>
</pre></div>
<pre class="example">
[1] TRUE
[1] 10055
 chr [1:23585] "POINT (-73.87963173099996 40.86905819000003)" ...
</pre></div>
</div>
</div>
<div class="outline-3" id="outline-container-org4fcb58c">
<h3 id="org4fcb58c">Visualization</h3>
<div class="outline-text-3" id="text-org4fcb58c">
<p><a href="https://lubridate.tidyverse.org/reference/round_date.html"><code>floor_date</code></a> is a function from <a href="https://lubridate.tidyverse.org/index.html">lubridate</a> that comes as part of the <a href="https://www.tidyverse.org/">tidyverse</a>. It's called floor because it acts like the <code>floor</code> function in math (round down).</p>
</div>
<div class="outline-4" id="outline-container-orgdc64216">
<h4 id="orgdc64216">Annually</h4>
<div class="outline-text-4" id="text-orgdc64216">
<div class="highlight">
<pre><span></span><span class="n">dates</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data</span>
<span class="n">dates</span><span class="o">$</span><span class="n">Year</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">floor_date</span><span class="p">(</span><span class="n">dates</span><span class="o">$</span><span class="n">DATE</span><span class="p">,</span><span class="w"> </span><span class="s">"year"</span><span class="p">)</span>

<span class="n">annual_shootings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dates</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">group_by</span><span class="p">(</span><span class="n">Year</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">summarise</span><span class="p">(</span><span class="n">Shootings</span><span class="o">=</span><span class="nf">n</span><span class="p">())</span>
<span class="nf">kable</span><span class="p">(</span><span class="n">annual_shootings</span><span class="p">,</span>
<span class="w">      </span><span class="n">format.args</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">big.mark</span><span class="o">=</span><span class="s">","</span><span class="p">))</span>
</pre></div>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-right">
<col class="org-left"></colgroup>
<thead>
<tr>
<th class="org-right" scope="col">Year</th>
<th class="org-left" scope="col">Shootings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">2006-01-01</td>
<td class="org-left">2,055</td>
</tr>
<tr>
<td class="org-right">2007-01-01</td>
<td class="org-left">1,887</td>
</tr>
<tr>
<td class="org-right">2008-01-01</td>
<td class="org-left">1,959</td>
</tr>
<tr>
<td class="org-right">2009-01-01</td>
<td class="org-left">1,828</td>
</tr>
<tr>
<td class="org-right">2010-01-01</td>
<td class="org-left">1,912</td>
</tr>
<tr>
<td class="org-right">2011-01-01</td>
<td class="org-left">1,939</td>
</tr>
<tr>
<td class="org-right">2012-01-01</td>
<td class="org-left">1,717</td>
</tr>
<tr>
<td class="org-right">2013-01-01</td>
<td class="org-left">1,339</td>
</tr>
<tr>
<td class="org-right">2014-01-01</td>
<td class="org-left">1,464</td>
</tr>
<tr>
<td class="org-right">2015-01-01</td>
<td class="org-left">1,434</td>
</tr>
<tr>
<td class="org-right">2016-01-01</td>
<td class="org-left">1,208</td>
</tr>
<tr>
<td class="org-right">2017-01-01</td>
<td class="org-left">970</td>
</tr>
<tr>
<td class="org-right">2018-01-01</td>
<td class="org-left">958</td>
</tr>
<tr>
<td class="org-right">2019-01-01</td>
<td class="org-left">967</td>
</tr>
<tr>
<td class="org-right">2020-01-01</td>
<td class="org-left">1,948</td>
</tr>
</tbody>
</table>
<div class="highlight">
<pre><span></span><span class="nf">theme_set</span><span class="p">(</span><span class="nf">theme_minimal</span><span class="p">())</span>
<span class="n">PATH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"../files/posts/nypd-shooting-incident-data/"</span>
<span class="n">join_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">partial</span><span class="p">(</span><span class="n">paste</span><span class="p">,</span><span class="w"> </span><span class="n">PATH</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">annual_shootings</span><span class="p">,</span><span class="w"> </span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Year</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Shootings</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">geom_line</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">scale_x_date</span><span class="p">(</span><span class="n">date_labels</span><span class="o">=</span><span class="s">"%Y"</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">"Year"</span><span class="p">,</span><span class="w"> </span><span class="n">date_breaks</span><span class="o">=</span><span class="s">"1 year"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"NYPD Annual Shootings Incidents Reported"</span><span class="p">)</span>
<span class="nf">ggsave</span><span class="p">(</span><span class="nf">join_path</span><span class="p">(</span><span class="s">"annual_shootings.png"</span><span class="p">),</span>
<span class="w">       </span><span class="n">plot</span><span class="o">=</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
<p><img alt="nil" src="annual_shootings.png"></p>
</div>
<ul class="org-ul">
<li><a id="org0f9adc8"></a>By Borough<br>
<div class="outline-text-5" id="text-org0f9adc8">
<div class="highlight">
<pre><span></span><span class="n">borough_shootings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dates</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">group_by</span><span class="p">(</span><span class="n">Year</span><span class="p">,</span><span class="w"> </span><span class="n">Borough</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">summarise</span><span class="p">(</span><span class="n">Shootings</span><span class="o">=</span><span class="nf">n</span><span class="p">())</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">file_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"annual_shootings_boroughs.png"</span>
<span class="n">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">borough_shootings</span><span class="p">,</span><span class="w"> </span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Year</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Shootings</span><span class="p">,</span><span class="w"> </span><span class="n">group</span><span class="o">=</span><span class="n">Borough</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">Borough</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">geom_line</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">scale_x_date</span><span class="p">(</span><span class="n">date_labels</span><span class="o">=</span><span class="s">"%Y"</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">"Year"</span><span class="p">,</span><span class="w"> </span><span class="n">date_breaks</span><span class="o">=</span><span class="s">"1 year"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"NYPD Annual Shootings by Borough"</span><span class="p">)</span>
<span class="nf">ggsave</span><span class="p">(</span><span class="nf">join_path</span><span class="p">(</span><span class="n">file_name</span><span class="p">),</span>
<span class="w">       </span><span class="n">plot</span><span class="o">=</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
<p><img alt="nil" src="annual_shootings_boroughs.png"></p>
</div>
</li>
</ul>
</div>
<div class="outline-4" id="outline-container-org42de00b">
<h4 id="org42de00b">Monthly</h4>
<div class="outline-text-4" id="text-org42de00b">
<div class="highlight">
<pre><span></span><span class="n">dates</span><span class="o">$</span><span class="n">year_month</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">floor_date</span><span class="p">(</span><span class="n">dates</span><span class="o">$</span><span class="n">DATE</span><span class="p">,</span><span class="w"> </span><span class="s">"month"</span><span class="p">)</span>
<span class="n">monthly_shootings</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dates</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">group_by</span><span class="p">(</span><span class="n">year_month</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">summarise</span><span class="p">(</span><span class="n">Shootings</span><span class="o">=</span><span class="nf">n</span><span class="p">())</span>

<span class="n">monthly_shootings</span><span class="o">$</span><span class="n">month_number</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span>
<span class="w">  </span><span class="nf">format</span><span class="p">(</span><span class="nf">as.Date</span><span class="p">(</span><span class="n">monthly_shootings</span><span class="o">$</span><span class="n">year_month</span><span class="p">),</span><span class="w"> </span><span class="s">"%m"</span><span class="p">))</span>
<span class="n">monthly_shootings</span><span class="o">$</span><span class="n">Month</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">months</span><span class="p">(</span><span class="nf">as.Date</span><span class="p">(</span><span class="n">monthly_shootings</span><span class="o">$</span><span class="n">year_month</span><span class="p">),</span>
<span class="w">                                  </span><span class="n">abbreviate</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">monthly_shootings</span><span class="o">$</span><span class="n">Year</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">year</span><span class="p">(</span><span class="nf">ymd</span><span class="p">(</span><span class="n">monthly_shootings</span><span class="o">$</span><span class="n">year_month</span><span class="p">))</span>
<span class="n">monthly_shootings</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">monthly_shootings</span><span class="p">,</span>
<span class="w">              </span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">month_number</span><span class="p">,</span>
<span class="w">                  </span><span class="n">y</span><span class="o">=</span><span class="n">Shootings</span><span class="p">,</span>
<span class="w">                  </span><span class="n">group</span><span class="o">=</span><span class="n">Year</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">Year</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">geom_line</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">scale_x_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="o">=</span><span class="n">monthly_shootings</span><span class="o">$</span><span class="n">month_number</span><span class="p">,</span>
<span class="w">                     </span><span class="n">labels</span><span class="o">=</span><span class="n">monthly_shootings</span><span class="o">$</span><span class="n">Month</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">"Month"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"NYPD Shootings by Month (Year-Over-Year)"</span><span class="p">)</span>

<span class="nf">ggsave</span><span class="p">(</span><span class="s">"../files/posts/nypd-shooting-incident-data/monthly_shootings.png"</span><span class="p">,</span>
<span class="w">       </span><span class="n">plot</span><span class="o">=</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
<p><img alt="nil" src="monthly_shootings.png"></p>
<div class="highlight">
<pre><span></span><span class="n">three_years</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">monthly_shootings</span><span class="p">[</span><span class="nf">which</span><span class="p">(</span><span class="n">monthly_shootings</span><span class="o">$</span><span class="n">Year</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2006</span><span class="p">,</span><span class="w"> </span><span class="m">2018</span><span class="p">,</span><span class="w"> </span><span class="m">2020</span><span class="p">)),]</span>

<span class="n">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">three_years</span><span class="p">,</span>
<span class="w">              </span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">month_number</span><span class="p">,</span>
<span class="w">                  </span><span class="n">y</span><span class="o">=</span><span class="n">Shootings</span><span class="p">,</span>
<span class="w">                  </span><span class="n">group</span><span class="o">=</span><span class="n">Year</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">Year</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">geom_line</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">scale_x_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="o">=</span><span class="n">three_years</span><span class="o">$</span><span class="n">month_number</span><span class="p">,</span>
<span class="w">                     </span><span class="n">labels</span><span class="o">=</span><span class="n">three_years</span><span class="o">$</span><span class="n">Month</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">"Month"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"NYPD Shootings by Month (2006, 2018, 2020)"</span><span class="p">)</span>

<span class="nf">ggsave</span><span class="p">(</span><span class="s">"../files/posts/nypd-shooting-incident-data/monthly_shootings_three-years.png"</span><span class="p">,</span>
<span class="w">       </span><span class="n">plot</span><span class="o">=</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
<p><img alt="nil" src="monthly_shootings_three-years.png"></p>
</div>
<ul class="org-ul">
<li><a id="org0bc6d5d"></a>By Borough<br>
<div class="outline-text-5" id="text-org0bc6d5d">
<div class="highlight">
<pre><span></span><span class="n">borough_monthly</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dates</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">group_by</span><span class="p">(</span><span class="n">year_month</span><span class="p">,</span><span class="w"> </span><span class="n">BORO</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">summarise</span><span class="p">(</span><span class="n">Shootings</span><span class="o">=</span><span class="nf">n</span><span class="p">())</span>

<span class="n">borough_monthly</span><span class="o">$</span><span class="n">monthly_number</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span>
<span class="w">  </span><span class="nf">format</span><span class="p">(</span><span class="nf">as.Date</span><span class="p">(</span><span class="n">borough_monthly</span><span class="o">$</span><span class="n">year_month</span><span class="p">),</span><span class="w"> </span><span class="s">"%m"</span><span class="p">))</span>
<span class="n">borough_monthly</span><span class="o">$</span><span class="n">Month</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">months</span><span class="p">(</span><span class="nf">as.Date</span><span class="p">(</span><span class="n">borough_monthly</span><span class="o">$</span><span class="n">year_month</span><span class="p">),</span>
<span class="w">                                </span><span class="n">abbreviate</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">borough_monthly</span><span class="o">$</span><span class="n">Year</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">year</span><span class="p">(</span><span class="nf">ymd</span><span class="p">(</span><span class="n">borough_monthly</span><span class="o">$</span><span class="n">year_month</span><span class="p">))</span>
<span class="n">borough_monthly</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">boroughs_2020</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">borough_monthly</span><span class="p">[</span><span class="nf">which</span><span class="p">(</span><span class="n">borough_monthly</span><span class="o">$</span><span class="n">Year</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2020</span><span class="p">)),]</span>

<span class="n">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">boroughs_2020</span><span class="p">,</span>
<span class="w">              </span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">monthly_number</span><span class="p">,</span>
<span class="w">                  </span><span class="n">y</span><span class="o">=</span><span class="n">Shootings</span><span class="p">,</span>
<span class="w">                  </span><span class="n">group</span><span class="o">=</span><span class="n">BORO</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="o">=</span><span class="n">BORO</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">geom_line</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">scale_x_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="o">=</span><span class="n">boroughs_2020</span><span class="o">$</span><span class="n">monthly_number</span><span class="p">,</span>
<span class="w">                     </span><span class="n">labels</span><span class="o">=</span><span class="n">boroughs_2020</span><span class="o">$</span><span class="n">Month</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">"Month"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"NYPD Shootings by Borough (2020)"</span><span class="p">)</span>

<span class="nf">ggsave</span><span class="p">(</span><span class="nf">join_path</span><span class="p">(</span><span class="s">"monthly_shootings_by_borough.png"</span><span class="p">),</span>
<span class="w">       </span><span class="n">plot</span><span class="o">=</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
<p><img alt="nil" src="monthly_shootings_by_borough.png"></p>
</div>
</li>
</ul>
</div>
<div class="outline-4" id="outline-container-org6355627">
<h4 id="org6355627">By Map</h4>
<div class="outline-text-4" id="text-org6355627">
<div class="highlight">
<pre><span></span><span class="n">dates</span><span class="o">$</span><span class="n">Year</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">year</span><span class="p">(</span><span class="nf">ymd</span><span class="p">(</span><span class="n">dates</span><span class="o">$</span><span class="n">year_month</span><span class="p">))</span>
<span class="n">last_year</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dates</span><span class="p">[</span><span class="n">dates</span><span class="o">$</span><span class="n">Year</span><span class="o">==</span><span class="m">2020</span><span class="p">,]</span>
<span class="n">last_year</span>
</pre></div>
<div class="highlight">
<pre><span></span><span class="n">minimum_latitude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">last_year</span><span class="o">$</span><span class="n">Latitude</span><span class="p">)</span>
<span class="n">maximum_latitude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">last_year</span><span class="o">$</span><span class="n">Latitude</span><span class="p">)</span>
<span class="n">minimum_longitude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">last_year</span><span class="o">$</span><span class="n">Longitude</span><span class="p">)</span>
<span class="n">maximum_longitude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">last_year</span><span class="o">$</span><span class="n">Longitude</span><span class="p">)</span>


<span class="n">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">last_year</span><span class="p">,</span>
<span class="w">              </span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Longitude</span><span class="p">,</span>
<span class="w">                  </span><span class="n">y</span><span class="o">=</span><span class="n">Latitude</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="n">BORO</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">geom_point</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">scale_x_continuous</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">minimum_longitude</span><span class="p">,</span><span class="w"> </span><span class="n">maximum_longitude</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">scale_y_continuous</span><span class="p">(</span><span class="n">limits</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="n">minimum_latitude</span><span class="p">,</span><span class="w"> </span><span class="n">maximum_latitude</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">"NYPD Shootings by Latitude and Longitude (2020)"</span><span class="p">)</span>

<span class="nf">ggsave</span><span class="p">(</span><span class="nf">join_path</span><span class="p">(</span><span class="s">"monthly_shootings_latitude_longitude.png"</span><span class="p">),</span>
<span class="w">       </span><span class="n">plot</span><span class="o">=</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
<p><img alt="nil" src="monthly_shootings_latitude_longitude.png"></p>
</div>
</div>
</div>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../categories/data-exploration/index.html" rel="tag">data exploration</a></li>
<li><a class="tag p-category" href="../../categories/data-science/index.html" rel="tag">data science</a></li>
<li><a class="tag p-category" href="../../categories/r/index.html" rel="tag">r</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../r-babel-test/index.html" rel="prev" title="R Babel Test">Previous post</a></li>
<li class="next"><a href="../a-look-at-ggplot/index.html" rel="next" title="A Look At ggplot">Next post</a></li>
</ul>
</nav>
</aside>
</article>
<!--End of body content-->
<footer id="footer">Scribbles by <a href="mailto:cloisteredmonkey.jmark@slmail.me">The Cloistered Monkey</a> © 2024 - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a>
<div id="license" xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><span property="dct:title">Ape-Iron</span> is licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" rel="license noopener noreferrer" style="display:inline-block;" target="_blank">CC BY-SA 4.0 <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></div>
</footer>
</div>
<script src="../../assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
</script></div>
</body>
</html>
